# 重定向功能修复测试说明

## 修复内容
修复了接口管理页面中重定向相关功能缺失的问题：
1. **重定向目标URL设置** - 在选择"重定向"或"URL重定向"处理方式时显示目标URL输入框
2. **自定义请求头设置** - 在重定向模式下显示自定义请求头的动态表单

## 测试步骤

### 1. 创建重定向接口测试
1. 打开接口管理页面
2. 点击"添加接口"按钮
3. 填写基本信息：
   - 接口名称：测试重定向
   - URL匹配规则：https://example.com/test
   - 处理方式：选择"重定向"
4. 验证是否显示以下字段：
   - ✅ 重定向目标URL输入框
   - ✅ 自定义请求头设置区域
5. 填写重定向目标URL：https://www.baidu.com
6. 添加自定义请求头：
   - Authorization: Bearer test123
   - X-Custom-Header: test-value
7. 保存接口

### 2. 编辑现有重定向接口测试
1. 找到已有的重定向类型接口
2. 点击编辑按钮
3. 验证是否正确显示：
   - ✅ 重定向目标URL字段及其现有值
   - ✅ 自定义请求头列表及其现有值
4. 修改重定向目标URL和自定义请求头
5. 保存修改

### 3. URL重定向测试
1. 创建新接口，选择"URL重定向"处理方式
2. 验证是否同样显示：
   - ✅ 重定向目标URL设置
   - ✅ 自定义请求头设置

## 技术细节

### 修复的问题
- 表单条件渲染中缺少对 `redirect` 和 `url_redirect` 类型的处理
- 缺少重定向目标URL的表单字段
- 缺少自定义请求头的动态表单项

### 修复的代码位置
- `whistle.mock-plugin/ui/src/pages/InterfaceManagement.js`
  - 在表单条件渲染中添加了重定向类型的处理逻辑
  - 添加了 `targetUrl` 表单字段和验证规则
  - 添加了 `headerItems` 动态表单列表
  - 在 `handleAddInterface` 中添加了 `headerItems` 初始化

### 数据处理逻辑
- **编辑时**：将 `customHeaders` 对象转换为 `headerItems` 数组用于表单显示
- **提交时**：将 `headerItems` 数组转换回 `customHeaders` 对象用于存储
- **显示时**：在表格中正确显示自定义请求头的数量和内容

## 预期结果
修复后，用户在创建或编辑重定向类型的接口时，能够：
1. 正常设置重定向目标URL
2. 正常添加、编辑、删除自定义请求头
3. 在接口列表中正确显示重定向配置信息 