# Whistle.mock-plugin

一个强大的 Whistle 插件，用于快速创建 API 模拟数据，提供友好的用户界面和丰富的功能。

## 项目概述

这是一个 Whistle 的插件，主要用于功能级别的接口代理和 response 的 mock 功能，配备美观的用户界面。插件提供了丰富的接口模拟功能，可以帮助前端开发人员在后端 API 尚未开发完成的情况下继续工作。

## 已实现功能

### 功能模块管理
- ✅ 创建和管理功能模块（功能集合）
- ✅ 一键启用/禁用功能模块
- ✅ 编辑功能模块信息
- ✅ 删除功能模块
- ✅ 功能模块状态显示（已启用/已禁用）
- ✅ 导入/导出功能配置

### 接口管理
- ✅ 按功能模块组织接口
- ✅ 创建和编辑接口配置
- ✅ 一键启用/禁用单个接口
- ✅ 丰富的接口配置选项：
  - URL 匹配规则（支持精确匹配、通配符、正则表达式）
  - HTTP 方法选择（GET、POST、PUT、DELETE 等）
  - HTTP 状态码设置
  - 内容类型设置
  - 响应内容编辑器
- ✅ 接口测试功能
- ✅ JSON 响应格式化功能
- ✅ 响应内容预览功能

### 高级功能
- ✅ 模板数据支持（集成 Mock.js）
- ✅ 延时响应模拟
- ✅ 自定义 HTTP 状态码和内容类型
- ✅ 请求参数匹配

### 运行日志
- ✅ 记录请求匹配信息
- ✅ 记录响应处理过程
- ✅ 记录错误信息
- ✅ 按时间、类型过滤日志
- ✅ 自动刷新日志

### 用户界面
- ✅ 现代化响应式设计
- ✅ 统一的页面布局和导航
- ✅ 卡片式功能模块显示
- ✅ 直观的接口列表
- ✅ 美观的测试结果展示
- ✅ 表单验证和错误提示
- ✅ 操作成功/失败提示

## 计划中的功能

### 接口代理方式
- URL 重定向：将请求转发到指定的其他 URL
- 本地文件代理：返回本地文件内容

### 高级功能
- 请求头和请求体匹配：根据请求头或请求体内容不同返回不同响应
- 更丰富的模板规则和函数
- 场景管理：同一接口配置多种场景响应

### 用户界面
- 暗色模式支持
- 更多图表和统计信息
- 接口搜索和过滤
- 快捷键支持
- 接口分类和标签

## 技术实现

### 前端技术栈
- React 构建 UI
- Ant Design 提供组件库
- 状态管理：React Hooks

### 后端实现
- 基于 Whistle 插件 API
- Express 处理请求
- 数据存储：本地文件系统
- Mock.js 生成模拟数据

## 使用方法

1. 安装 Whistle：`npm install -g whistle`
2. 安装插件：`npm install -g whistle.mock-plugin`
3. 启动 Whistle：`w2 start`
4. 访问插件页面：`http://local.whistlejs.com/plugin.mock-plugin/`
5. 创建功能模块和接口配置
6. 在 Whistle 中添加规则：`pattern whistle.mock-plugin://`

## 贡献指南

欢迎提交 Issue 和 Pull Request，一起完善这个项目！

## 许可证

MIT



